 {
    "repository": {
      "name": "insurance_pricing_ml_platform",
      "location": "/opt/feast/insurance_pricing",
      "defaultOwner": "Actuarial Data Science Team",
      "id": 4,
      "description": "Insurance pricing and risk segmentation ML platform for life, funeral, and vehicle cover. POPIA Section 26 special personal information (health data) handling with Long-term Insurance Act compliance. Uses MSSQL (policy administration), MySQL (claims history), MongoDB (risk surveys), PostgreSQL (actuarial tables), and S3 (catastrophe modeling). 4 entities: Policyholder, InsurancePolicy, RiskEvent, and ActuarialSegment. Supports GLM, GBM, and neural network pricing models with full explainability for regulatory filing."
    },
    "nodes": [
      ["source_1", {
        "id": "source_1",
        "type": "datasource",
        "name": "Policy Administration SQL Server",
        "kind": "sqlserver",
        "dbType": {
          "name": "SQL Server",
          "category": "Relational",
          "debezium": true,
          "icon": "ðŸ—ƒï¸",
          "defaultProcess": "Actuarial governance committee approval",
          "sparkPattern": "MS JDBC with Always Encrypted and audit logging"
        },
        "description": "Policy master data, premiums, benefits, and underwriting decisions",
        "tags": ["core", "policy", "popia-sensitive", "long-term-act"],
        "ownedBy": "Policy Administration Team",
        "accessProcess": "1. Actuarial governance committee approval\n2. Long-term Insurance Act compliance check\n3. POPIA Section 26 health data authorization (if applicable)\n4. SQL Server read replica with query audit\n5. Rate filing documentation requirement",
        "details": {
          "connection": "sqlserver://policy.internal:1433/PolicyDB",
          "notes": "Debezium for policy change tracking\nPOPIA: Special personal info (health) for life cover\nLong-term Insurance Act: PPR compliance\nEncryption: Always Encrypted for health data\nRetention: Policy lifetime + 5 years per Act\nAudit: Full query logging for regulatory exam"
        },
        "x": 100, "y": 100,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "MS JDBC with Always Encrypted and audit logging",
        "columnSecurity": {
          "piiColumns": ["sa_id_number", "passport_number", "medical_history_codes", "income_band"],
          "maskedColumns": ["income_band"],
          "restrictedColumns": ["sa_id_number", "detailed_medical_history", "hiv_status"],
          "anonymizationMethod": "Actuarial banding for pricing factors"
        }
      }],
      ["source_2", {
        "id": "source_2",
        "type": "datasource",
        "name": "Claims History MySQL",
        "kind": "mysql",
        "dbType": {
          "name": "MySQL",
          "category": "Relational",
          "debezium": true,
          "icon": "ðŸ¬",
          "defaultProcess": "Claims analytics access request with actuarial sign-off",
          "sparkPattern": "JDBC with SSL and claims data masking"
        },
        "description": "Claims transactions, loss amounts, causes, and reserving data",
        "tags": ["claims", "loss-data", "actuarial", "popia-sensitive"],
        "ownedBy": "Claims Analytics Team",
        "accessProcess": "1. Chief Actuary approval for pricing use\n2. POPIA consent verification for claims history\n3. MySQL read replica with SSL\n4. Claims confidentiality agreement",
        "details": {
          "connection": "mysql://claims.internal:3306/claims_db",
          "notes": "Percona with claims audit logging\nDebezium for large loss alerts\nPOPIA: Health data in injury claims\nActuarial: IBNR and case reserving data\nRetention: Claims lifetime + 5 years\nAggregation: Individual claims not exposed"
        },
        "x": 100, "y": 250,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "JDBC with SSL and claims data masking",
        "columnSecurity": {
          "piiColumns": ["claimant_id", "injury_description", "medical_provider"],
          "maskedColumns": ["medical_provider"],
          "restrictedColumns": ["detailed_injury_description", "mental_health_claims"]
        }
      }],
      ["source_3", {
        "id": "source_3",
        "type": "datasource",
        "name": "Risk Survey MongoDB",
        "kind": "mongodb",
        "dbType": {
          "name": "MongoDB",
          "category": "NoSQL",
          "debezium": true,
          "icon": "ðŸƒ",
          "defaultProcess": "Underwriting data access with risk assessment justification",
          "sparkPattern": "MongoDB Spark with client-side field encryption"
        },
        "description": "Risk survey responses, vehicle inspections, and property assessments",
        "tags": ["survey", "risk-assessment", "unstructured", "popia-limited"],
        "ownedBy": "Underwriting Systems Team",
        "accessProcess": "1. Underwriting risk assessment approval\n2. Survey data use limitation review\n3. MongoDB field-level encryption access\n4. Risk engineer sign-off",
        "details": {
          "connection": "mongodb://surveys.internal:27017/risk_assessments",
          "notes": "Change streams for survey completion\nField encryption: Sensitive risk factors\nPOPIA: Limited - risk surveys are business data\nRetention: Policy term + 3 years\nNLP: Survey text analysis for risk factors"
        },
        "x": 100, "y": 400,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "MongoDB Spark with client-side field encryption",
        "columnSecurity": {
          "piiColumns": ["surveyor_notes", "property_location_details"],
          "maskedColumns": ["property_location_details"],
          "restrictedColumns": ["security_system_details", "high_value_items_list"]
        }
      }],
      ["source_4", {
        "id": "source_4",
        "type": "datasource",
        "name": "Actuarial Tables PostgreSQL",
        "kind": "postgres",
        "dbType": {
          "name": "PostgreSQL",
          "category": "Relational",
          "debezium": true,
          "icon": "ðŸ˜",
          "defaultProcess": "Actuarial standards compliance review",
          "sparkPattern": "JDBC with row-level security for table versions"
        },
        "description": "Mortality tables, lapse rates, expense assumptions, and regulatory tables",
        "tags": ["actuarial", "tables", "regulatory", "non-pii"],
        "ownedBy": "Actuarial Standards Team",
        "accessProcess": "1. Actuarial standards compliance review\n2. Table version approval\n3. PostgreSQL RLS for table sets\n4. Documentation for regulatory filing",
        "details": {
          "connection": "postgresql://actuarial.internal:5432/tables",
          "notes": "Row-level security: Table version control\nDebezium: Table update alerts\nRegulatory: SAM (Solvency Assessment and Management) compliance\nVersions: Table version history\nPublic: Mortality tables are public data"
        },
        "x": 100, "y": 550,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "JDBC with row-level security for table versions",
        "columnSecurity": {
          "piiColumns": [],
          "maskedColumns": [],
          "restrictedColumns": ["proprietary_adjustment_factors"]
        }
      }],
      ["source_5", {
        "id": "source_5",
        "type": "datasource",
        "name": "Catastrophe Modeling S3",
        "kind": "s3",
        "dbType": {
          "name": "Amazon S3 (Parquet/CSV)",
          "category": "Object Storage",
          "debezium": false,
          "icon": "ðŸª£",
          "defaultProcess": "Catastrophe risk team data governance approval",
          "sparkPattern": "S3A with geospatial data processing"
        },
        "description": "Catastrophe model outputs, flood maps, and weather event data for property pricing",
        "tags": ["catastrophe", "geospatial", "weather", "risk"],
        "ownedBy": "Catastrophe Risk Team",
        "accessProcess": "1. Catastrophe risk committee approval\n2. Vendor license compliance check (AIR, RMS, EQE)\n3. S3 bucket policy with VPC restriction\n4. Model version documentation",
        "details": {
          "connection": "s3://cat-risk-lake/model-outputs/",
          "notes": "Vendor models: AIR, RMS, EQE licensing\nGeospatial: Lat/long grids, not addresses\nRetention: Per vendor agreement + regulatory\nPOPIA: No personal data, geographic only\nEncryption: SSE-KMS with key rotation"
        },
        "x": 100, "y": 700,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": false,
        "sparkPattern": "S3A with geospatial data processing",
        "columnSecurity": {
          "piiColumns": ["exact_coordinates"],
          "maskedColumns": ["exact_coordinates"],
          "restrictedColumns": ["proprietary_cat_model_outputs"]
        }
      }],
      ["entity_1", {
        "id": "entity_1",
        "type": "entity",
        "name": "Policyholder",
        "joinKey": "policyholder_hash_id",
        "description": "Insurance policyholders with POPIA pseudonymization and risk classification",
        "tags": ["core", "popia-data-subject", "long-term-act"],
        "details": {
          "notes": "POPIA: Consent for underwriting and claims\nPseudonymization: Hash ID separate from policy\nRisk: Underwriting risk bands only\nHealth: Special personal info for life cover\nRetention: Policy term + 5 years\nActuarial: Exposure and experience tracking"
        },
        "x": 400, "y": 100,
        "inputs": [],
        "outputs": ["fv_1", "fv_2"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["entity_2", {
        "id": "entity_2",
        "type": "entity",
        "name": "InsurancePolicy",
        "joinKey": "policy_number_hash",
        "description": "Insurance policies with cover details, benefits, and pricing components",
        "tags": ["policy", "coverage", "pricing", "actuarial"],
        "details": {
          "notes": "Product types: Life, Funeral, Vehicle, Property\nCover: Sum assured and benefit details\nPricing: Risk premium and expense loadings\nStatus: Active, lapsed, paid-up\nActuarial: Liability valuation"
        },
        "x": 400, "y": 250,
        "inputs": [],
        "outputs": ["fv_3", "fv_4"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["entity_3", {
        "id": "entity_3",
        "type": "entity",
        "name": "RiskEvent",
        "joinKey": "event_hash_id",
        "description": "Claim events and risk incidents with cause and severity classification",
        "tags": ["claims", "events", "loss", "actuarial"],
        "details": {
          "notes": "Event types: Death, Disability, Vehicle damage, Property loss\nCause: ICD codes for health, peril codes for property\nSeverity: Cost bands, not exact amounts\nActuarial: Burning cost calculations\nPOPIA: Aggregated, no individual stories"
        },
        "x": 400, "y": 400,
        "inputs": [],
        "outputs": ["fv_2", "fv_5"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["entity_4", {
        "id": "entity_4",
        "type": "entity",
        "name": "ActuarialSegment",
        "joinKey": "segment_code",
        "description": "Actuarial risk segments with homogeneous risk profiles",
        "tags": ["actuarial", "segmentation", "risk-class", "pricing"],
        "details": {
          "notes": "Segmentation: Risk characteristics grouping\nHomogeneity: Similar expected loss ratios\nPricing: Base rates per segment\nRegulatory: Rate filing segments\nExplainability: Segment characteristics documented"
        },
        "x": 400, "y": 550,
        "inputs": [],
        "outputs": ["fv_4"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_1", {
        "id": "fv_1",
        "type": "featureview",
        "name": "PolicyholderRiskProfile",
        "subtype": "batch",
        "description": "Policyholder risk characteristics with actuarial banding",
        "tags": ["risk", "underwriting", "popia-minimized", "actuarial"],
        "entities": ["entity_1"],
        "features": [
          {"name": "age_band", "type": "String"},
          {"name": "gender_pricing_factor", "type": "String"},
          {"name": "smoking_status", "type": "String"},
          {"name": "occupation_risk_class", "type": "String"},
          {"name": "income_stability_band", "type": "String"},
          {"name": "geographic_risk_zone", "type": "String"}
        ],
        "details": {
          "ttl": "86400",
          "notes": "POPIA: Aggregated bands only, no exact values\nActuarial: Risk factors per Long-term Insurance Act\nSource: SQL Server policy admin\nExplainability: GLM coefficient transparency\nBias: Gender and age pricing justified by actuarial factors\nHealth: Special info handled per Section 26"
        },
        "x": 700, "y": 100,
        "inputs": ["entity_1"],
        "outputs": ["service_1", "service_2"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_2", {
        "id": "fv_2",
        "type": "featureview",
        "name": "ClaimsExperienceFeatures",
        "subtype": "batch",
        "description": "Historical claims experience for experience rating and IBNR",
        "tags": ["claims", "experience", "actuarial", "ibnr"],
        "entities": ["entity_1", "entity_3"],
        "features": [
          {"name": "claim_frequency_3yr", "type": "Float32"},
          {"name": "average_claim_cost_band", "type": "String"},
          {"name": "claim_cause_category", "type": "String"},
          {"name": "time_since_last_claim_months", "type": "Int64"},
          {"name": "no_claims_bonus_level", "type": "String"}
        ],
        "details": {
          "ttl": "604800",
          "notes": "Actuarial: Burning cost and loss ratio calculations\nSource: MySQL claims + SQL Server policy\nAggregation: Band levels for privacy\nIBNR: Incurred but not reported estimates\nPOPIA: Claims history with consent\nRegulatory: PPR (Policyholder Protection Rules) compliance"
        },
        "x": 700, "y": 250,
        "inputs": ["entity_1", "entity_3"],
        "outputs": ["service_1"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_3", {
        "id": "fv_3",
        "type": "featureview",
        "name": "PolicyCoverageFeatures",
        "subtype": "batch",
        "description": "Policy coverage details and benefit structure features",
        "tags": ["coverage", "benefits", "pricing", "product"],
        "entities": ["entity_2"],
        "features": [
          {"name": "product_type", "type": "String"},
          {"name": "sum_assured_band", "type": "String"},
          {"name": "premium_payment_term", "type": "String"},
          {"name": "waiting_period_status", "type": "String"},
          {"name": "rider_benefits_count", "type": "Int64"}
        ],
        "details": {
          "ttl": "86400",
          "notes": "Product: Life, Funeral, Vehicle, Property variants\nPricing: Risk premium + expense + profit loadings\nSource: SQL Server policy admin\nActuarial: Liability valuation factors\nRegulatory: PPR benefit illustration compliance"
        },
        "x": 700, "y": 400,
        "inputs": ["entity_2"],
        "outputs": ["service_1"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_4", {
        "id": "fv_4",
        "type": "featureview",
        "name": "ActuarialSegmentationFeatures",
        "subtype": "batch",
        "description": "Risk segmentation features for homogeneous pricing groups",
        "tags": ["segmentation", "actuarial", "risk-class", "explainable"],
        "entities": ["entity_2", "entity_4"],
        "features": [
          {"name": "base_rate_segment", "type": "String"},
          {"name": "risk_adjustment_factor", "type": "Float32"},
          {"name": "lapse_rate_expectation", "type": "Float32"},
          {"name": "expense_loading_percentage", "type": "Float32"},
          {"name": "profit_margin_target", "type": "Float32"}
        ],
        "details": {
          "ttl": "259200",
          "notes": "Actuarial: GLM/GBM segmentation\nSource: PostgreSQL tables + SQL Server\nExplainability: Segment definitions documented\nRegulatory: Rate filing support\nFairness: Risk-based pricing justification\nLong-term Insurance Act: PPR compliance"
        },
        "x": 700, "y": 550,
        "inputs": ["entity_2", "entity_4"],
        "outputs": ["service_2"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_5", {
        "id": "fv_5",
        "type": "featureview",
        "name": "CatastropheRiskFeatures",
        "subtype": "batch",
        "description": "Catastrophe model outputs for property and vehicle pricing",
        "tags": ["catastrophe", "geospatial", "property", "vehicle"],
        "entities": ["entity_3"],
        "features": [
          {"name": "flood_risk_zone", "type": "String"},
          {"name": "earthquake_risk_score", "type": "Float32"},
          {"name": "windstorm_exposure_band", "type": "String"},
          {"name": "crime_risk_index", "type": "Float32"},
          {"name": "weather_event_frequency", "type": "String"}
        ],
        "details": {
          "ttl": "604800",
          "notes": "Source: S3 catastrophe model outputs\nGeospatial: Grid-based, not exact address\nVendors: AIR, RMS, EQE model licensing\nActuarial: CAT load in pricing\nPOPIA: No personal data, location only\nRefresh: Annual model updates"
        },
        "x": 700, "y": 700,
        "inputs": ["entity_3"],
        "outputs": ["service_1"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["service_1", {
        "id": "service_1",
        "type": "service",
        "name": "InsurancePricingModelTraining",
        "description": "Training data service for insurance pricing and risk segmentation models",
        "tags": ["pricing", "actuarial", "risk-segmentation", "explainable"],
        "features": ["fv_1", "fv_2", "fv_3", "fv_5"],
        "featureServices": [],
        "details": {
          "usedBy": [
            {
              "name": "actuarial-pricing-team",
              "environment": "Development",
              "sla": "Best effort",
              "contact": "actuarial-pricing@insurer",
              "description": "GLM, GBM, and neural network pricing model development"
            },
            {
              "name": "product-development-team",
              "environment": "UAT",
              "sla": "99%",
              "contact": "product-dev@insurer",
              "description": "New product pricing and profitability analysis"
            }
          ],
          "notes": "Purpose: Risk-based premium calculation\nRegulatory: Long-term Insurance Act compliance\nExplainability: GLM coefficients, SHAP for ML\nFiling: Rate filing documentation for FSCA\nPOPIA: Health data Section 26 authorization\nFairness: Risk factors only, no discrimination\nModels: GLM (traditional), GBM, Neural networks"
        },
        "x": 1000, "y": 300,
        "inputs": ["fv_1", "fv_2", "fv_3", "fv_5"],
        "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["service_2", {
        "id": "service_2",
        "type": "service",
        "name": "ActuarialReservingAndValuation",
        "description": "ML features for actuarial reserving, IBNR estimation, and liability valuation",
        "tags": ["reserving", "ibnr", "valuation", "actuarial-standards"],
        "features": ["fv_1", "fv_4"],
        "featureServices": [],
        "details": {
          "usedBy": [
            {
              "name": "valuation-actuaries",
              "environment": "Production",
              "sla": "99%",
              "contact": "valuation@insurer",
              "description": "SAM liability valuation and solvency calculations"
            },
            {
              "name": "reserving-team",
              "environment": "Production",
              "sla": "99%",
              "contact": "reserving@insurer",
              "description": "IBNR and claims reserving models"
            }
          ],
          "notes": "Purpose: Technical provisions and solvency\nStandards: SAM (Solvency Assessment and Management)\nActuarial: Professional standards compliance\nModels: Chain ladder, BF, GLM reserving\nAudit: Full documentation for regulatory review\nPOPIA: Aggregated data only\nExplainability: Actuarial judgment documented"
        },
        "x": 1000, "y": 600,
        "inputs": ["fv_1", "fv_4"],
        "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z"
      }]
    ],
    "edges": [
      {"from": "entity_1", "to": "fv_1", "id": "entity_1->fv_1", "animated": false},
      {"from": "entity_1", "to": "fv_2", "id": "entity_1->fv_2", "animated": false},
      {"from": "entity_2", "to": "fv_3", "id": "entity_2->fv_3", "animated": false},
      {"from": "entity_2", "to": "fv_4", "id": "entity_2->fv_4", "animated": false},
      {"from": "entity_3", "to": "fv_2", "id": "entity_3->fv_2", "animated": false},
      {"from": "entity_3", "to": "fv_5", "id": "entity_3->fv_5", "animated": false},
      {"from": "entity_4", "to": "fv_4", "id": "entity_4->fv_4", "animated": false},
      {"from": "fv_1", "to": "service_1", "id": "fv_1->service_1", "animated": false},
      {"from": "fv_1", "to": "service_2", "id": "fv_1->service_2", "animated": false},
      {"from": "fv_2", "to": "service_1", "id": "fv_2->service_1", "animated": false},
      {"from": "fv_3", "to": "service_1", "id": "fv_3->service_1", "animated": false},
      {"from": "fv_4", "to": "service_2", "id": "fv_4->service_2", "animated": false},
      {"from": "fv_5", "to": "service_1", "id": "fv_5->service_1", "animated": false}
    ],
    "exportDate": "2026-02-28T10:00:00Z",
    "version": "3.0"
  }