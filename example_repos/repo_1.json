{
    "repository": {
      "name": "credit_risk_ml_platform",
      "location": "/opt/feast/credit_risk",
      "defaultOwner": "Model Risk Management Team",
      "id": 1,
      "description": "Credit risk assessment ML platform for retail and corporate lending. Supports model development, validation, and bias testing across 5 data sources: SQL Server (core banking), MySQL (credit bureau), MongoDB (application documents), PostgreSQL (risk ratings), and S3 (training archives). Implements POPIA Section 71 automated decision-making safeguards, SARB model governance requirements, and SHAP/LIME explainability. Features 4 entities: Applicant, LoanFacility, CreditBureauProfile, and CollateralAsset. Manages 50+ risk features with TTLs from 1 hour to 90 days. All training data anonymized with differential privacy techniques. Model versioning tracked via MLflow integration. Bias monitoring across demographic groups mandatory per SARB fairness guidelines."
    },
    "nodes": [
      ["source_1", {
        "id": "source_1",
        "type": "datasource",
        "name": "Core Banking SQL Server",
        "kind": "sqlserver",
        "dbType": {
          "name": "SQL Server",
          "category": "Relational",
          "debezium": true,
          "icon": "ðŸ—ƒï¸",
          "defaultProcess": "Submit Model Risk Governance request via ServiceNow",
          "sparkPattern": "MS JDBC driver with query banding for audit"
        },
        "description": "Primary banking transactions, account history, and internal ratings for credit risk model training",
        "tags": ["critical", "popia-financial", "sarb-governed"],
        "ownedBy": "Enterprise Data Office",
        "accessProcess": "1. Model Risk Committee approval\n2. POPIA Section 71 impact assessment for automated decisions\n3. Information Officer sign-off\n4. Read-only AlwaysOn replica with query audit",
        "details": {
          "connection": "sqlserver://corebank.internal:1433/RiskDataMart",
          "notes": "Debezium CDC enabled for feature freshness\nPOPIA: Financial data special category\nSARB: Model input lineage tracked\nEncryption: TDE + Always Encrypted for sensitive features\nRetention: 7 years per National Credit Act"
        },
        "x": 100, "y": 100,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "MS JDBC driver with query banding for audit",
        "columnSecurity": {
          "piiColumns": ["sa_id_number", "passport_number", "account_number", "income_details"],
          "maskedColumns": ["account_number"],
          "restrictedColumns": ["sa_id_number", "passport_number", "raw_income"],
          "anonymizationMethod": "k-anonymity with l-diversity for training sets"
        }
      }],
      ["source_2", {
        "id": "source_2",
        "type": "datasource",
        "name": "Credit Bureau MySQL",
        "kind": "mysql",
        "dbType": {
          "name": "MySQL",
          "category": "Relational",
          "debezium": true,
          "icon": "ðŸ¬",
          "defaultProcess": "Request via Data Governance Office with NCR compliance check",
          "sparkPattern": "JDBC with SSL and certificate pinning"
        },
        "description": "External credit bureau data, payment profiles, and adverse listings under NCR regulations",
        "tags": ["external", "ncr-regulated", "popia-sensitive"],
        "ownedBy": "Credit Risk Data Team",
        "accessProcess": "1. NCR data usage compliance verification\n2. Bureau agreement amendment for ML use\n3. POPIA consent verification for secondary processing\n4. MySQL read replica with SSL",
        "details": {
          "connection": "mysql://bureau.internal:3306/credit_data",
          "notes": "Percona XtraDB with audit logging\nPOPIA: Section 11 consent records checked\nNCR: National Credit Act compliance\nData minimization: Only risk-relevant fields\nRetention: 5 years per NCR requirements"
        },
        "x": 100, "y": 250,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "JDBC with SSL and certificate pinning",
        "columnSecurity": {
          "piiColumns": ["bureau_consumer_id", "payment_history_details"],
          "maskedColumns": ["bureau_consumer_id"],
          "restrictedColumns": ["detailed_payment_history", "adverse_listing_details"]
        }
      }],
      ["source_3", {
        "id": "source_3",
        "type": "datasource",
        "name": "Document Store MongoDB",
        "kind": "mongodb",
        "dbType": {
          "name": "MongoDB",
          "category": "NoSQL",
          "debezium": true,
          "icon": "ðŸƒ",
          "defaultProcess": "Data Steward approval with POPIA purpose limitation",
          "sparkPattern": "MongoDB Spark connector with field-level encryption"
        },
        "description": "Unstructured loan application documents, financial statements, and verification documents",
        "tags": ["unstructured", "documents", "nlp-features"],
        "ownedBy": "Digital Lending Team",
        "accessProcess": "1. POPIA purpose limitation assessment\n2. Document classification (sensitive vs non-sensitive)\n3. MongoDB Atlas read-only role\n4. Encryption key access via HSM",
        "details": {
          "connection": "mongodb://docs.internal:27017/loan_documents",
          "notes": "Change streams for new application alerts\nField-level encryption for sensitive docs\nPOPIA: Section 14 purpose limitation enforced\nNLP features: Extracted via separate pipeline\nRetention: Application lifecycle + 2 years"
        },
        "x": 100, "y": 400,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "MongoDB Spark connector with field-level encryption",
        "columnSecurity": {
          "piiColumns": ["applicant_name", "address_documents", "income_proofs"],
          "maskedColumns": [],
          "restrictedColumns": ["raw_document_images", "handwritten_notes"]
        }
      }],
      ["source_4", {
        "id": "source_4",
        "type": "datasource",
        "name": "Risk Ratings PostgreSQL",
        "kind": "postgres",
        "dbType": {
          "name": "PostgreSQL",
          "category": "Relational",
          "debezium": true,
          "icon": "ðŸ˜",
          "defaultProcess": "Internal Risk Model Governance request",
          "sparkPattern": "JDBC with row-level security policies"
        },
        "description": "Internal risk rating models, PD/LGD/EAD calculations, and regulatory capital data",
        "tags": ["internal-models", "regulatory", "sarb-critical"],
        "ownedBy": "Risk Methodology Team",
        "accessProcess": "1. SARB model governance approval\n2. Model owner sign-off for feature use\n3. PostgreSQL RLS policy assignment\n4. Audit trail activation",
        "details": {
          "connection": "postgresql://riskdb.internal:5432/ratings",
          "notes": "Row-level security per model tier\nSARB: Model risk tier classification\nDebezium for rating change alerts\nExplainability: Feature importance logged\nRetention: Per SARB model archive requirements"
        },
        "x": 100, "y": 550,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": true,
        "sparkPattern": "JDBC with row-level security policies",
        "columnSecurity": {
          "piiColumns": ["model_developer_id", "validation_analyst"],
          "maskedColumns": [],
          "restrictedColumns": ["model_calibration_data", "stress_test_parameters"]
        }
      }],
      ["source_5", {
        "id": "source_5",
        "type": "datasource",
        "name": "Training Data Archive S3",
        "kind": "s3",
        "dbType": {
          "name": "Amazon S3 (Parquet)",
          "category": "Object Storage",
          "debezium": false,
          "icon": "ðŸª£",
          "defaultProcess": "ML Governance Committee data request",
          "sparkPattern": "S3A with server-side encryption and versioning"
        },
        "description": "Historical training datasets, model snapshots, and bias testing benchmarks",
        "tags": ["training-data", "archive", "ml-governance"],
        "ownedBy": "ML Platform Team",
        "accessProcess": "1. ML Governance Committee approval\n2. Data anonymization verification\n3. S3 bucket policy with IAM conditions\n4. Versioning and lifecycle policy review",
        "details": {
          "connection": "s3://credit-risk-ml-archive/training/",
          "notes": "SSE-KMS encryption\nObject lock for model audit trails\nPOPIA: Anonymized training sets only\nBias testing: Demographic parity datasets\nVersioning: Immutable model training snapshots"
        },
        "x": 100, "y": 700,
        "inputs": [], "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z",
        "debeziumAvailable": false,
        "sparkPattern": "S3A with server-side encryption and versioning",
        "columnSecurity": {
          "piiColumns": ["historical_applicant_ref"],
          "maskedColumns": [],
          "restrictedColumns": ["raw_training_features", "demographic_indicators"]
        }
      }],
      ["entity_1", {
        "id": "entity_1",
        "type": "entity",
        "name": "Applicant",
        "joinKey": "applicant_hash_id",
        "description": "Loan applicants with POPIA pseudonymization and demographic fairness monitoring",
        "tags": ["core", "popia-data-subject", "bias-monitoring"],
        "details": {
          "notes": "POPIA Section 11: Consent management\nDemographic fields: Protected for bias testing\nPseudonymization: SHA-256 with salt\nFairness: Demographic parity tracked per SARB guidelines\nRetention: Application decision + 5 years"
        },
        "x": 400, "y": 100,
        "inputs": [],
        "outputs": ["fv_1", "fv_2", "fv_5"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["entity_2", {
        "id": "entity_2",
        "type": "entity",
        "name": "LoanFacility",
        "joinKey": "facility_hash_id",
        "description": "Loan facilities and credit products with risk parameters",
        "tags": ["financial", "exposure", "regulatory"],
        "details": {
          "notes": "Facility types: Retail, Corporate, SME\nRisk parameters: PD, LGD, EAD linkage\nRegulatory: Basel III/IV compliant\nAggregation: Exposure at default calculations"
        },
        "x": 400, "y": 250,
        "inputs": [],
        "outputs": ["fv_3"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["entity_3", {
        "id": "entity_3",
        "type": "entity",
        "name": "CreditBureauProfile",
        "joinKey": "bureau_profile_hash",
        "description": "External credit bureau aggregated profiles with NCR compliance",
        "tags": ["external", "bureau", "ncr-governed"],
        "details": {
          "notes": "NCR: Data retention and usage compliance\nAggregation: Payment history bands, not raw data\nRefresh: Monthly bureau updates\nConsent: Section 18 NCA checks"
        },
        "x": 400, "y": 400,
        "inputs": [],
        "outputs": ["fv_2"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["entity_4", {
        "id": "entity_4",
        "type": "entity",
        "name": "CollateralAsset",
        "joinKey": "collateral_hash_id",
        "description": "Secured lending collateral with valuation and LTV metrics",
        "tags": ["security", "valuation", "ltv"],
        "details": {
          "notes": "Asset types: Property, Vehicles, Equipment\nValuation: Automated + Manual\nLTV: Dynamic calculation\nInsurance: Coverage validation"
        },
        "x": 400, "y": 550,
        "inputs": [],
        "outputs": ["fv_4"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_1", {
        "id": "fv_1",
        "type": "featureview",
        "name": "ApplicantRiskProfile",
        "subtype": "batch",
        "description": "Core applicant risk features with bias-mitigated demographics",
        "tags": ["risk", "batch", "popia-minimized", "bias-tested"],
        "entities": ["entity_1"],
        "features": [
          {"name": "age_band", "type": "String"},
          {"name": "employment_stability_index", "type": "Float32"},
          {"name": "income_quintile", "type": "String"},
          {"name": "existing_exposure_band", "type": "String"},
          {"name": "payment_to_income_ratio", "type": "Float32"},
          {"name": "demographic_risk_score", "type": "Float32"}
        ],
        "details": {
          "ttl": "86400",
          "notes": "POPIA: Aggregated bands, no exact values\nBias testing: Demographic parity pre-deployment\nSource: SQL Server + PostgreSQL\nAnonymization: k=5 anonymity for training\nExplainability: SHAP values logged per feature"
        },
        "x": 700, "y": 100,
        "inputs": ["entity_1"],
        "outputs": ["service_1", "service_2"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_2", {
        "id": "fv_2",
        "type": "featureview",
        "name": "BureauHistoryAggregated",
        "subtype": "batch",
        "description": "Credit bureau history with NCR-compliant aggregation",
        "tags": ["external", "bureau", "ncr-compliant", "privacy-preserving"],
        "entities": ["entity_3"],
        "features": [
          {"name": "adverse_listing_flag", "type": "Bool"},
          {"name": "payment_history_score", "type": "Int64"},
          {"name": "enquiry_count_90d", "type": "Int64"},
          {"name": "accounts_active_count", "type": "Int64"},
          {"name": "worst_status_12m", "type": "String"}
        ],
        "details": {
          "ttl": "604800",
          "notes": "NCR: No granular payment history exposed\nAggregation: Buckets per NCR guidelines\nRefresh: Monthly bureau updates\nPOPIA: Section 18 NCA consent verified\nBias: Disparate impact testing mandatory"
        },
        "x": 700, "y": 250,
        "inputs": ["entity_3"],
        "outputs": ["service_1"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_3", {
        "id": "fv_3",
        "type": "featureview",
        "name": "FacilityRiskMetrics",
        "subtype": "batch",
        "description": "Loan facility risk parameters and regulatory capital features",
        "tags": ["regulatory", "capital", "sarb-governed"],
        "entities": ["entity_2"],
        "features": [
          {"name": "facility_type_encoded", "type": "Int64"},
          {"name": "ltv_ratio", "type": "Float32"},
          {"name": "tenure_months", "type": "Int64"},
          {"name": "interest_rate_margin", "type": "Float32"},
          {"name": "expected_loss_band", "type": "String"}
        ],
        "details": {
          "ttl": "86400",
          "notes": "SARB: Basel III/IV compliant calculations\nSource: PostgreSQL risk ratings\nValidation: Model owner sign-off required\nExplainability: Feature importance tracked\nStress testing: Scenario parameters included"
        },
        "x": 700, "y": 400,
        "inputs": ["entity_2"],
        "outputs": ["service_1", "service_2"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_4", {
        "id": "fv_4",
        "type": "featureview",
        "name": "CollateralValuationFeatures",
        "subtype": "batch",
        "description": "Collateral valuation and coverage metrics for secured lending",
        "tags": ["security", "valuation", "ltv"],
        "entities": ["entity_4"],
        "features": [
          {"name": "collateral_type_category", "type": "String"},
          {"name": "valuation_confidence_score", "type": "Float32"},
          {"name": "ltv_after_valuation", "type": "Float32"},
          {"name": "insurance_coverage_flag", "type": "Bool"},
          {"name": "revaluation_frequency_months", "type": "Int64"}
        ],
        "details": {
          "ttl": "259200",
          "notes": "Valuation: Automated AVM + manual override\nCoverage: Insurance validation\nRefresh: Quarterly revaluation triggers\nSource: SQL Server collateral management"
        },
        "x": 700, "y": 550,
        "inputs": ["entity_4"],
        "outputs": ["service_1"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["fv_5", {
        "id": "fv_5",
        "type": "featureview",
        "name": "HistoricalTrainingFeatures",
        "subtype": "batch",
        "description": "Anonymized historical features for model training and bias testing",
        "tags": ["training", "archive", "anonymized", "bias-benchmark"],
        "entities": ["entity_1"],
        "features": [
          {"name": "outcome_default_flag", "type": "Bool"},
          {"name": "application_year_quarter", "type": "String"},
          {"name": "economic_cycle_indicator", "type": "String"},
          {"name": "model_version_used", "type": "String"},
          {"name": "demographic_parity_group", "type": "String"}
        ],
        "details": {
          "ttl": "7776000",
          "notes": "S3 archive: Immutable training snapshots\nAnonymization: Differential privacy applied\nBias testing: Demographic parity benchmarks\nPOPIA: No re-identification possible\nRetention: 7 years for SARB model audit"
        },
        "x": 700, "y": 700,
        "inputs": ["entity_1"],
        "outputs": ["service_2"],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["service_1", {
        "id": "service_1",
        "type": "service",
        "name": "CreditScoringModelTraining",
        "description": "Training data service for credit scoring ML models with full governance",
        "tags": ["training", "credit-risk", "sarb-governed", "explainability"],
        "features": ["fv_1", "fv_2", "fv_3", "fv_4"],
        "featureServices": [],
        "details": {
          "usedBy": [
            {
              "name": "model-development-team",
              "environment": "Development",
              "sla": "Best effort",
              "contact": "model-risk@internal",
              "description": "Feature engineering and model prototyping"
            },
            {
              "name": "model-validation-team",
              "environment": "UAT",
              "sla": "99%",
              "contact": "model-validation@internal",
              "description": "Independent validation and challenger models"
            },
            {
              "name": "bias-testing-pipeline",
              "environment": "Production",
              "sla": "95%",
              "contact": "fairness-ml@internal",
              "description": "Demographic parity and disparate impact testing per SARB guidelines"
            }
          ],
          "notes": "Purpose: Model development and validation\nGovernance: SARB Model Risk Management framework\nExplainability: SHAP/LIME integration mandatory\nBias: Fairness constraints enforced\nPOPIA: Section 71 automated decision safeguards\nData: Anonymized training sets only\nAudit: Full lineage tracking to S3 archives"
        },
        "x": 1000, "y": 300,
        "inputs": ["fv_1", "fv_2", "fv_3", "fv_4"],
        "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z"
      }],
      ["service_2", {
        "id": "service_2",
        "type": "service",
        "name": "ModelMonitoringAndDrift",
        "description": "Production model monitoring, drift detection, and bias tracking",
        "tags": ["monitoring", "drift-detection", "bias-tracking", "sarb-compliance"],
        "features": ["fv_1", "fv_3", "fv_5"],
        "featureServices": [],
        "details": {
          "usedBy": [
            {
              "name": "ml-ops-team",
              "environment": "Production",
              "sla": "99.9%",
              "contact": "ml-ops@internal",
              "description": "Real-time model performance and drift monitoring"
            },
            {
              "name": "risk-governance-committee",
              "environment": "Production",
              "sla": "99%",
              "contact": "risk-governance@internal",
              "description": "Monthly model performance and fairness reports to SARB"
            }
          ],
          "notes": "Monitoring: Population stability index (PSI) tracking\nDrift: Feature drift and concept drift detection\nBias: Ongoing demographic parity monitoring\nSARB: Monthly governance reporting\nPOPIA: Automated decision impact assessments\nTrigger: Automatic model retraining at PSI > 0.25"
        },
        "x": 1000, "y": 600,
        "inputs": ["fv_1", "fv_3", "fv_5"],
        "outputs": [],
        "createdAt": "2026-02-28T08:00:00Z"
      }]
    ],
    "edges": [
      {"from": "entity_1", "to": "fv_1", "id": "entity_1->fv_1", "animated": false},
      {"from": "entity_1", "to": "fv_5", "id": "entity_1->fv_5", "animated": false},
      {"from": "entity_2", "to": "fv_3", "id": "entity_2->fv_3", "animated": false},
      {"from": "entity_3", "to": "fv_2", "id": "entity_3->fv_2", "animated": false},
      {"from": "entity_4", "to": "fv_4", "id": "entity_4->fv_4", "animated": false},
      {"from": "fv_1", "to": "service_1", "id": "fv_1->service_1", "animated": false},
      {"from": "fv_1", "to": "service_2", "id": "fv_1->service_2", "animated": false},
      {"from": "fv_2", "to": "service_1", "id": "fv_2->service_1", "animated": false},
      {"from": "fv_3", "to": "service_1", "id": "fv_3->service_1", "animated": false},
      {"from": "fv_3", "to": "service_2", "id": "fv_3->service_2", "animated": false},
      {"from": "fv_4", "to": "service_1", "id": "fv_4->service_1", "animated": false},
      {"from": "fv_5", "to": "service_2", "id": "fv_5->service_2", "animated": false}
    ],
    "exportDate": "2026-02-28T10:00:00Z",
    "version": "3.0"
  }